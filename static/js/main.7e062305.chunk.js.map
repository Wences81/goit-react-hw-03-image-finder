{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/App/App.module.css","services/api.js","components/SearchBar/SearchBar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App/App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","params","image_type","orientation","per_page","fetchPictures","pictureName","page","a","get","hits","data","SearchBar","onSearch","className","s","Searchbar","SearchForm","onSubmit","e","preventDefault","target","elements","value","toLowerCase","type","SearchFormbutton","SearchFormbuttonlabel","SearchForminput","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","onSelect","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItemimage","onClick","ImageGallery","pictures","map","picture","id","Button","App","color","height","width","timeout","modalRoot","document","getElementById","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","Component","state","selectedImg","reqStatus","showModal","handleFormSubmit","setState","loadMoreButtonClick","prevState","handleSelectedImage","LageImageURL","toggleModal","_","nextSearch","nextPage","trim","length","toast","error","scrollTo","top","documentElement","scrollHeight","behavior","showButton","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7e062305.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3geGs\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__3OWXP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__aMsV3\",\"ModalStyle\":\"Modal_ModalStyle__3ucz4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2EFgr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2l9S2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2fMKi\",\"SearchForm\":\"SearchBar_SearchForm__3-f9x\",\"SearchFormbutton\":\"SearchBar_SearchFormbutton__2sE8M\",\"SearchFormbuttonlabel\":\"SearchBar_SearchFormbuttonlabel__2Xnvx\",\"SearchForminput\":\"SearchBar_SearchForminput__1iehG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2ema8\"};","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com';\naxios.defaults.params = {\n  image_type: 'photo',\n  orientation: 'horizontal',\n  per_page: '12',\n};\n\nconst keyApi = '22617887-a3f68d8335d469bb4f11f2290';\n\nexport const fetchPictures = async (pictureName, page) => {\n  const {\n    data: { hits },\n  } = await axios.get(`/api/?q=${pictureName}&page=${page}&key=${keyApi}`);\n  return hits;\n};\n","import PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\nconst SearchBar = ({ onSearch }) => {\n  const handleSearch = e => {\n    e.preventDefault();\n    onSearch(e.target.elements.pictureName.value.toLowerCase());\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSearch}>\n        <button type=\"submit\" className={s.SearchFormbutton}>\n          <span className={s.SearchFormbuttonlabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForminput}\n          type=\"text\"\n          name=\"pictureName\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n\nSearchBar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ image, onSelect }) {\n  const { webformatURL, tags, largeImageURL } = image;\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemimage}\n        onClick={() => onSelect(largeImageURL)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func,\n};\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {pictures.map((picture, id) => (\n        <ImageGalleryItem key={id} image={picture} onSelect={onSelect} />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      picture: PropTypes.object,\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onSelect: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button type=\"button\" onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: 'smooth',\n// });\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function App() {\n  return (\n    <div>\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n","import { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { fetchPictures } from '../../services/api';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    pictureName: null,\n    pictures: [],\n    selectedImg: null,\n    reqStatus: 'idle',\n    page: 1,\n    showModal: false,\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const nextSearch = this.state.pictureName;\n    const nextPage = this.state.page;\n\n    if (prevState.pictureName !== nextSearch || prevState.page !== nextPage) {\n      try {\n        this.setState({ reqStatus: 'pending' });\n\n        const pictures = await fetchPictures(nextSearch, nextPage);\n\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...pictures],\n          reqStatus: 'resolved',\n        }));\n\n        if (nextSearch.trim() === '' || pictures.length === 0) {\n          return toast.error(\n            `Sorry, but there are no pictures with  ${nextSearch}`,\n          );\n        }\n      } catch (error) {\n        this.setState({ reqStatus: 'rejected' });\n        toast.error('Something went wrong');\n      }\n\n      this.state.page > 1 &&\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n    }\n  }\n\n  handleFormSubmit = pictureName => {\n    this.setState({ pictureName });\n  };\n\n  loadMoreButtonClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSelectedImage = LageImageURL => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      selectedImg: LageImageURL,\n    }));\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({\n      showModal: !state.showModal,\n    }));\n    this.setState({\n      selectedImg: '',\n    });\n  };\n\n  render() {\n    const { pictures, reqStatus, selectedImg, showModal } = this.state;\n    const showButton = pictures.length >= 12;\n\n    return (\n      <div>\n        <Toaster />\n        <SearchBar onSearch={this.handleFormSubmit} />\n        <ImageGallery pictures={pictures} onSelect={this.handleSelectedImage} />\n        {showButton && <Button onClick={this.loadMoreButtonClick} />}\n        {reqStatus === 'pending' && <Loader />}\n        {showModal && (\n          <Modal\n            src={this.state.selectedImg}\n            alt={selectedImg.tags}\n            onClose={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}